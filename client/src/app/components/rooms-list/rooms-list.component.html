<div>
  <h2>{{ title }}</h2>
  <!-- <table class="table">
    <tr>
      <th>Index</th>
      <th>Room Number</th>
      <th>Room Type</th>
      <th>Amenities</th>
      <th>Price</th>
      <th>Photos</th>
      <th>Check In Time</th>
      <th>Check Out Time</th>
      <th>Rating</th>
      <th>Select room</th>
    </tr>
    @for (room of rooms | slice : 0 : rooms!.length; track room.roomNumber; let i
    = $index, even = $even, odd = $odd) {
    <tr [ngClass]="even ? 'even' : 'odd'">
      <ng-container *ngTemplateOutlet="td; context: { i }"></ng-container>
      <td>{{ room.roomNumber }}</td>
      <td>{{ room.roomType }}</td>
      <td>{{ room.amenities | lowercase }}</td>
      <td>{{ room.price | currency }}</td>
      <td [ngStyle]="{ maxWidth: '100px' }">{{ room.photos }}</td>
      <td>{{ room.checkInTime | date : "longDate" }}</td>
      <td>{{ room.checkOutTime | date : "longDate" }}</td>
      <td>{{ room.rating | number : "1.1-1" : "en-us" }}</td>
      <td>
        <button class="btn btn-primary" (click)="selectRoom(room)">
          Select
        </button>
      </td>
    </tr>
    }
  </table> -->
  <table mat-table [dataSource]="rooms ?? []" class="mat-elevation-z8">
    <ng-container matColumnDef="index">
      <th mat-header-cell *matHeaderCellDef> Index </th>
      <td mat-cell *matCellDef="let element; let i = index"> {{ i }} </td>
    </ng-container>
    <ng-container matColumnDef="roomNumber">
      <th mat-header-cell *matHeaderCellDef> Room Number </th>
      <td mat-cell *matCellDef="let element"> {{ element.roomNumber }} </td>
    </ng-container>
    <ng-container matColumnDef="roomType">
      <th mat-header-cell *matHeaderCellDef> Room Type </th>
      <td mat-cell *matCellDef="let element"> {{ element.roomType }} </td>
    </ng-container>
    <ng-container matColumnDef="amenities">
      <th mat-header-cell *matHeaderCellDef> Amenities </th>
      <td mat-cell *matCellDef="let element">
        {{ element.amenities | lowercase }}
      </td>
    </ng-container>
    <ng-container matColumnDef="price">
      <th mat-header-cell *matHeaderCellDef> Price </th>
      <td mat-cell *matCellDef="let element">
        {{ element.price | currency }}
      </td>
    </ng-container>
    <ng-container matColumnDef="photos">
      <th mat-header-cell *matHeaderCellDef> Photos </th>
      <td mat-cell *matCellDef="let element">
        {{ element.photos }}
      </td>
    </ng-container>
    <ng-container matColumnDef="checkInTime">
      <th mat-header-cell *matHeaderCellDef> Check In Time </th>
      <td mat-cell *matCellDef="let element">
        {{ element.checkInTime | date : "longDate" }}
      </td>
    </ng-container>
    <ng-container matColumnDef="checkOutTime">
      <th mat-header-cell *matHeaderCellDef> Check Out Time </th>
      <td mat-cell *matCellDef="let element">
        {{ element.checkOutTime | date : "longDate" }}
      </td>
    </ng-container>
    <ng-container matColumnDef="rating">
      <th mat-header-cell *matHeaderCellDef> Rating </th>
      <td mat-cell *matCellDef="let element">
        {{ element.rating | number : "1.1-1" : "en-us" }}
      </td>
    </ng-container>
    <ng-container matColumnDef="selectRoom">
      <th mat-header-cell *matHeaderCellDef> Select </th>
      <td mat-cell *matCellDef="let element">
        <button class="btn btn-primary" (click)="selectRoom(element)">
          Select
        </button>
      </td>
    </ng-container>
    <tr mat-header-row *matHeaderRowDef="['index', 'roomNumber', 'roomType', 'amenities', 'price', 'photos', 'checkInTime', 'checkOutTime', 'rating', 'selectRoom']"></tr>
    <tr mat-row *matRowDef="let element; columns: ['index', 'roomNumber', 'roomType', 'amenities', 'price', 'photos', 'checkInTime', 'checkOutTime', 'rating', 'selectRoom']"></tr>
  </table>
</div>

<ng-template #td let-index="i">
  <td>{{ index }}</td>
</ng-template>
